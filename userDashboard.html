<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>User Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    
    <link href="./output.css" rel="stylesheet">

    
   
  </head>
  <body class="bg-[#F7F7FA]">
<div class="flex ">
   
        <div class="toggle-div bg-[#F7F7FA]  absolute h-full w-[250px] lg:w-[300px]" style="display: none;">
            <div class="flex flex-col  mr-[-20px] ">
                <div class="flex flex-col items-center py-[90px] rounded-bl-3xl gap-4 bg-[#6E00FF]">
           <div class="h-[100px]"></div>
           <div class="bg-white w-[60px] h-[60px] flex justify-center items-center cursor-pointer hover:bg-black hover:text-white ease-in-out transition duration-300 text-blue-800 py-2 px-2 rounded-full">
            <i class="fa fa-user-circle fa-2x" size="50" aria-hidden="true"></i>
           
           </div>
           <div class="flex flex-col items-center ">
            <p id="usernameBox" class="text-white "></p>
            <p class="text-gray-800">online</p>

           </div>
           <div class="px-12 py-1 rounded-full bg-white flex gap-2 items-center justify-center">
            <p><span id="total-balance1">0</span> PKR</p>
           </div>
           <div class="px-12 py-1 rounded-full bg-yellow-500 flex gap-2 items-center justify-center">
           <a href="/Login.html"><p>Logout</p></a> 
           </div>
                </div>
           <div class=" bg-[#F7F7FA]">
                <div class="flex px-2 gap-2 justify-center items-center">
                    <div class="flex w-full flex-col text-white items-center gap-2 rounded-md py-4 px-2 bg-[#6E00FF]">
                        <a href="./plan.html" class="flex  flex-col gap-2">    <div class="flex items-center justify-center"><i><image class="w-[30px] h-[30px]" src="/home.png"></image></i></div>   
                            <p class=" text-center font-semibold">Home</p>
                         </a> 
                    </div>
                    <div class="flex w-full watchAdButton items-center text-gray-400 flex-col gap-2 py-4 px-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                        <div class="flex items-center justify-center"><i><image class="w-[30px] h-[30px]" src="/watchAd.png"></image></i></div>   
                               <p class=" text-center font-semibold ">Get<br/> Reward</p>
         
                            
                           </div>
                    <div></div>
                </div>
                <div class="flex px-2 gap-2 justify-center items-center">
                  <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                    <a href="/plan.html" class="flex  flex-col gap-2">    <div class="flex items-center justify-center"><i><image class="w-[30px] h-[30px]" src="/deposit.png"></image></i></div>   
                           <p class=" text-center font-semibold">Deposit</p>
                        </a> 
                       </div>
                 
                       <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                        <div onclick="showProfitModal()" class="flex items-center justify-center"><i><image class="w-[30px] h-[30px]" src="/withdraw.png"></image></i></div>   
                               <p class=" text-center font-semibold">Withdraw</p>
                           
                           </div>
                    </div>
                    <div class="flex px-2 gap-2 justify-center items-center">
                        <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                            <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                               <p class=" text-center font-semibold">Watch <br/> Ads</p>
                           </div>
                           <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                            <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                               <p class=" text-center font-semibold">Watch <br/> Ads</p>
                           </div>
                        </div>
                        <div class="flex px-2 gap-2 justify-center items-center">
                            <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                                <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                                   <p class=" text-center font-semibold">Watch <br/> Ads</p>
                               </div>
                               <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                                <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                                   <p class=" text-center font-semibold">Watch <br/> Ads</p>
                               </div>
                            </div>
                            <div class="flex px-2 gap-2 justify-center items-center">
                                <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                                    <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                                       <p class=" text-center font-semibold">Watch <br/> Ads</p>
                                   </div>
                                   <div class="flex w-full items-center text-gray-400 flex-col gap-2 cursor-pointer hover:text-[#6E00FF] transition ease-in-out duration-300 rounded-md py-4 px-2 ">
                                    <div><i class="fa fa-home" aria-hidden="true"></i></div>   
                                       <p class=" text-center font-semibold">Watch <br/> Ads</p>
                                   </div>
                                </div>
                              </div>
                                <div class="w-full ">
                                <div class="bg-[#FFE600]  py-4  px-2 gap-2 text-white flex flex-col">
                                <p>Need Help</p>
                                <p>Contact our 24/7 customer</p>
                                <p>support center</p>
                                <button class="bg-white rounded-full text-black text-center px-4 py-2 hover:bg-gray-200 transition ease-in-out duration-300">Contact Us</button>
                                </div>
                            </div>
            </div>
        </div>
   

    <div class="w-full">

        <div
      class="bg-[#2F55D4] w-full fixed h-[70px] flex items-center justify-end py-2 px-4"
    >
      <div class="flex items-center fixed  gap-4">
        <div class="text-white cursor-pointer" onclick="showsidebar()">
         
            <i class="fa fa-bars" id="bars-icon" aria-hidden="true"></i>
        
            <i class="fa fa-close hidden" id="close-icon" aria-hidden="true"></i>
        </div>
        <div
          class="flex items-center gap-2 bg-[#2A49A6] rounded-full text-white cursor-pointer hover:bg-fuchsia-700 transition ease-in-out duration-300"
        >
          <div >
            <i class="fa fa-user-circle fa-2x" size="50" aria-hidden="true"></i>
          </div>
          <div class="p-2">
            <p
            id="usernameBox1" class="text-[#E5E8E8] hover:text-white transition ease-in-out duration-300"
            >
              
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="bg-[#6E00FF] h-[400px] w-full px-4 rounded-bl-3xl">
      <div class="flex flex-col gap-8">
        <div class="text-[20px] font-semibold py-6 text-[#F6FFFF]">
          <p>Home-Dashboard</p>
        </div>

        <!-- buttons section -->
        <div
          class="bg-white py-6 px-8 rounded-lg flex flex-wrap items-center  justify-between"
        >
        <a href="/plan.html" class="mb-2"> <button
            class="bg-red-600 text-white hover:bg-red-800 transition ease-in-out duration-300 py-1 px-4 rounded-md"
          >
            Deposit
          </button>
        </a> 
          <button
            class="bg-blue-600 mb-2 watchAdButton1 text-white hover:bg-blue-800 transition ease-in-out duration-300 py-1 px-4 rounded-md"
          >
           Get Reward
          </button>
          <button onclick="showProfitModal()"
            class="bg-green-600 text-white mb-2 hover:bg-green-800 transition ease-in-out duration-300 py-1 px-4 rounded-md"
          >
            Withdraw
          </button>
        </div>

        <!-- Activties section -->
        <div class="flex flex-col gap-0 lg:gap-8 py-4">
          <div class="bg-white rounded-md flex flex-col gap-4 lg:gap-12 mt-6 px-4 py-6">
            <div class="text-[#2F55D4] text-[18px] font-semibold pt-2">
              <p>Account Summary</p>
            </div>
            <div class="flex flex-wrap lg:flex-nowrap gap-4 justify-between items-center">
              <div class="w-full cursor-pointer   px-6 flex justify-center">
             <a href="https://chat.whatsapp.com/GOLPImYSWDC2JSOCAAOHfk"> <div
                  class="flex gap-2 py-5 px-6 w-[250px] rounded-2xl bg-[#25D366]"
                >
                  <div><image class=" w-16 h-14" src="/wt.png"></image>
                  </div>
                  <div class="text-white tex-[20px] font-semibold">
                    <p>Join Whatsapp Group</p>
                  </div>
                </div>
            </a>  
              </div>

              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-white border border-gray-300"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-[#A4A1A9] text-[18px] font-semibold">
                    Account Balance
                  </p>
                  <p class="text-[20px]"><span id="total-balance">0</span> PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#272E44] border border-gray-300"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px] font-semibold">
                    Total Deposit
                  </p>
                  <p class="text-[20px] text-white"><span id="total-deposit">0</span> PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>
            </div>

            <div class="flex gap-4 flex-wrap lg:flex-nowrap justify-between items-center">
              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#FF7B30]"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px]">Refer Commission</p>
                  <p class="text-[20px] text-white">0 PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#FFD900]"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px]">Pending Watch Ads</p>
                  <p class="text-[20px] text-white">0 PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#36B395] border border-gray-300"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px] font-semibold">
                    Total Earning
                  </p>
                  <p class="text-[20px] text-white"><span id="total-earning">0</span> PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>
            </div>

            <div class="flex gap-4 flex-wrap lg:flex-nowrap justify-between items-center">
              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#EFF1F7]"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-[#A97E67] text-[18px]">Total Referral</p>
                  <p class="text-[20px]">0 PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div
                class="w-full flex justify-between py-4 px-6 rounded-md bg-[#A100FF]"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px] font-semibold">
                    Total Withdrawal
                  </p>
                  <p class="text-[20px] text-white"><span id="total-withdraw">0</span> PKR</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div class="w-full py-4 px-6"></div>
            </div>

            <div class="flex gap-4 flex-wrap lg:flex-nowrap justify-between items-center">
              <div
                class="w-full lg:w-2/3 flex justify-between py-4 px-6 rounded-md bg-[#2ECA8B]"
              >
                <div class="flex flex-col gap-2">
                  <p class="text-white text-[18px]">Plan Expiry</p>
                  <p class="text-[20px] text-white">Not Available</p>
                </div>
                <div
                  class="bg-blue-600 flex items-center py-4 px-5 rounded-full text-white"
                >
                  <i class="fa fa-calculator fa-2x" aria-hidden="true"></i>
                </div>
              </div>

              <div class="w-1/3 sm:hidden"></div>
            </div>
          </div>
        </div>
        <!-- Activities section ended -->

        <!-- Referal Section started -->
       

        <div class="py-6 bg-[#F8F9FC]">
          <p class="text-gray-400">All Rights Reserved © 2024</p>
        </div>
        

      </div>
    </div>
    </div>
</div>
<div id="profitModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
  <div class="bg-white p-4 rounded-md">
      <h2 class="text-xl mb-4">Withdraw Amount</h2>
      <input type="number" id="profitInput" class="border p-2 w-full mb-4" placeholder="Enter amount in range of your balance">
      <input type="text" id="AccountnumberInput" class="border p-2 w-full mb-4" placeholder="Enter Account Number">
      <input type="text" id="AccountNameInput" class="border p-2 w-full mb-4" placeholder="Enter Account Name">
      <button id="profitSubmit" class="bg-blue-500 text-white px-4 py-2 rounded">Withdraw</button>
      <button id="profitCancel" class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Cancel</button>
  </div>
</div>
<script>
 
   document.addEventListener("DOMContentLoaded", function() {
    const profitModal = document.getElementById('profitModal');
    const profitSubmit = document.getElementById('profitSubmit');
    const usernameBox = document.getElementById('usernameBox');
    const usernameBox1 = document.getElementById('usernameBox1');
    const profitCancel = document.getElementById('profitCancel');
    const totalbalance1 = document.getElementById('total-balance1');  
    const AccountnumberInput = document.getElementById('AccountnumberInput');
    const AccountNameInput = document.getElementById('AccountNameInput');
   })
      
  window.showProfitModal = function() {
         
          profitInput.value = '';
          profitModal.classList.remove('hidden');
      };
      document.getElementById('profitSubmit').addEventListener('click', function() {
        const withDrawAmount = parseInt(document.getElementById('profitInput').value);
        const withDrawAccountNo= (document.getElementById('AccountnumberInput').value);
        const withDrawAccountName =(document.getElementById('AccountNameInput').value);
        fetch('https://www.ernings.online/api/withdraw', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ withDrawAmount,withDrawAccountNo,withDrawAccountName })
        })
        .then(response => response.json())
        .then(data => {
            if (!data.success) {
                throw new Error(data.message || 'Network response was not ok');
            }

            console.log('Withdrawal done successfully:', data);
            alert(data.message); // Show success message
            location.reload(); // Optionally reload the page to reflect changes
        })
        .catch(error => {
            console.error('There was a problem with the withdrawal request:', error);
            alert(error.message || 'Failed to process withdrawal. Check console for more details.');
        });
    });
            profitCancel.addEventListener('click', function() {
                profitModal.classList.add('hidden');
            });
    document.addEventListener("DOMContentLoaded", function() {
      fetch("https://www.ernings.online/api/account-summary", {
        method: "GET",
        headers: {
          "Content-Type": "application/json"
        }
      })
      .then(response => response.json())
      .then(data => {
        document.getElementById("total-balance").innerText = data.totalBalance;
        document.getElementById("total-balance1").innerText=data.totalBalance;
        document.getElementById("total-deposit").innerText = data.totalDeposit;
        document.getElementById("usernameBox").innerText = data.username;
        document.getElementById("usernameBox1").innerText = data.username;
        document.getElementById("total-earning").innerText = data.totalEarning;
        document.getElementById("total-withdraw").innerText = data.totalWithdraw;
      })
      .catch(error => console.error("Error fetching account summary:", error));
    });

    document.addEventListener("DOMContentLoaded", function() {
    // Get elements by class name
    const watchAdButtons = document.querySelectorAll('.watchAdButton, .watchAdButton1');

    // Iterate over each element to add click event listener
    watchAdButtons.forEach(button => {
        button.addEventListener('click', function() {
            fetch('https://www.ernings.online/api/click-ad', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ userId: 'your-user-id' }) // Replace with the actual user ID
            })
            .then(response => response.text())
            .then(data => {
                alert(data); // Display the response message
                location.reload(); // Optionally reload the page
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    });
});

  </script>
<script src="/script.js"></script>
  </body>
</html>
